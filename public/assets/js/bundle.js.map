{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://prodteste/./frontend/core/component/component.js","webpack://prodteste/./frontend/core/engine/pubsub.js","webpack://prodteste/./frontend/core/router/routes.js","webpack://prodteste/./frontend/core/utils/utils.js","webpack://prodteste/./frontend/core/engine/diff.js","webpack://prodteste/./frontend/core/engine/patch.js","webpack://prodteste/./frontend/core/engine/element.js","webpack://prodteste/./frontend/core/engine/createElement.js","webpack://prodteste/./frontend/core/router/app.js","webpack://prodteste/./frontend/core/index.js","webpack://prodteste/./frontend/components/input.js","webpack://prodteste/./frontend/views/home.js","webpack://prodteste/./frontend/routes.js","webpack://prodteste/./frontend/main.js"],"sourcesContent":["import { pb, navigate, isCurrent } from \"../index.js\";\n\n\nexport default class Component {\n    constructor(props, children) {\n        this.props = props || {};\n        this.children = children || {};\n        this.params = this.props.params || {};\n        this.query = this.props.query || {};\n\n        this.router = {navigate, isCurrent};\n\n        this.preInit();\n        typeof this.onInit === \"function\" && this.listen('component', () => this.onInit(), true, true);\n    };\n    /**\n     * @description Função chamada antes do carregamento da view\n     *\n     */\n    preInit() { return; };\n    /**\n     *\n     * @description Função chamada depois do carregamento ta view\n     */\n    /**\n     *\n     * @param {String} subject - Nome do canal a ser ouvido\n     * @param {Function} callback - Função a ser executada quando canal for desparado, pode ou não receber argumentos.\n     * @param {Boolean} justOne - Executa apenas uma vez\n     */\n    listen(subject, callback, afterExecute = false, justOne = false) {\n        let sub = pb.subscribe(subject, data => { callback(...data); afterExecute && pb.unsubscribe(sub); }, justOne);\n    };\n    /**\n     *\n     * @param {String} subject - Nome do canal a ser desparado\n     * @param  {...any} data - Parâmetros que serão passados a todos os ouvintes do canal desparado\n     */\n    dispatch(subject, ...data) { pb.publish(subject, ...data) };\n\n    view() { return; };\n};\n","\nlet subscribers = {}, unsubscribers = [];\nexport default new class PubSub {\n\n    publish(subject, ...args) {\n        args = args || [];\n        if (!subscribers[subject]) return;\n\n        for (let sub of subscribers[subject]) {\n            typeof sub === 'function' && sub(args);\n        };\n        unsubscribeAll();\n    };\n\n    subscribe(subject, callback, justOne = false) {\n\n        subscribers[subject] = subscribers[subject] || [];\n        subscribers[subject].push(callback);\n        let subscription = [subject, callback];\n        justOne && unsubscribers.push(subscription);\n        return subscription;\n    };\n\n    unsubscribe(subscription) { unsubscribers.push(subscription); };\n\n    clearSubject(subject) {\n        if (!subscribers[subject]) return;\n\n        for (let i in subscribers[subject]) {\n            subscribers[subject].splice(i, 1);\n        };\n    };\n\n    clearAll() { subscribers = {}; };\n};\n\nfunction unsubscribeAll() {\n\n    for(let subscription of unsubscribers){\n        let subject = subscription[0];\n        let callback = subscription[1];\n\n        if (!subscribers[subject]) return;\n\n        subscribers[subject].forEach((v, i) => {\n            if (v == callback) { subscribers[subject].splice(i, 1) };\n        })\n    };\n\n    unsubscribers = [];\n};\n\n","\nexport default function Routes() {\n    this.stack = [];\n    this.middleware = [];\n    this.prefix = '';\n};\n\n\nRoutes.prototype.group = function (prefix, callback) {\n\n    this.prefix = pathResolve(prefix);\n\n    if (typeof callback === 'function') callback();\n\n    this.prefix = '';\n};\n\n\nRoutes.prototype.middlewares = function (callback, ...middlewares) {\n    for (let middleware of middlewares) {\n        if (typeof middleware === 'function') this.middleware.push(middleware);\n        else throw new Error(`Grupo. Middleware(s) referenciado(s) não é(são) função!`);\n    };\n\n    if (typeof callback === 'function') callback();\n\n    this.middleware = [];\n};\n\nRoutes.prototype.name = function (name = ''){\n\n};\n\nRoutes.prototype.add = function (path = '', ...args) {\n    if (path === '' || typeof path !== 'string') return;\n\n    let route = {}, uri = '';\n\n    if (this.prefix !== '') uri += this.prefix;\n\n    route.path = this.prefix && path === '/' ? uri : uri + pathResolve(path);\n\n    route.middlewares = this.middleware.length > 0 ? this.middleware : [];\n\n    if (args.length === 1) {\n\n        if (typeof args[0] === 'function') route.component = args[0]\n        else throw new Error(`Rota \"${path}\": Componente referenciado não é função!`);\n\n    } else {\n        let component = args.pop();\n        let middles = args;\n\n        if (!typeof component === 'function') throw new Error(`Rota \"${path}\": Componente referenciado não é função!`);\n\n        for (var middle of middles) {\n            if (!typeof middle === 'function') throw new Error(`Rota \"${path}\": Middleware(s) referenciado(s) não é(são) função!`);\n        };\n\n        route.component = component;\n        route.middlewares.push(...middles);\n    }\n\n    if (route.component) this.stack.push(route);\n};\n\n\nfunction pathResolve(path) {\n    let resolved = '';\n    if (path !== '/') {\n        resolved = path[0] === '/' ? path : '/' + path;\n        resolved.at(-1) === '/' && (resolved = resolved.slice(0, -1));\n    } else resolved = '/';\n\n    return resolved;\n};\n\n","\r\nexport function foreach(obj, fn) {\r\n  for (var i in obj) { typeof fn === 'function' && fn(obj[i], i) };\r\n  return;\r\n};\r\n\r\nfunction type(obj) { return Object.prototype.toString.call(obj).replace(/\\[object\\s|\\]/g, \"\"); };\r\n\r\nexport function isArr(list) { return type(list) === \"Array\"; };\r\n\r\nexport function isObj(obj) { return type(obj) === \"Object\"; };\r\n\r\nexport function isStr(str) { return type(str) === \"String\"; };\r\n\r\nexport function isNotEmptyObj(obj) { return isObject(obj) && JSON.stringify(obj) != \"{}\"; };\r\n\r\nexport function changed(n1, n2) {\r\n  return typeof n1 !== typeof n2 || //typeof n1 === 'string' && n1 !== n2 ||\r\n    n1.type !== n2.type\r\n}\r\n\r\n\r\nconst CREATE = 'CREATE'\r\nconst REMOVE = 'REMOVE'\r\nconst REPLACE = 'REPLACE'\r\nconst UPDATE = 'UPDATE'\r\nconst SET_PROP = 'SET_PROP'\r\nconst REMOVE_PROP = 'REMOVE PROP'\r\nconst TEXT = 'TEXT'\r\nconst REORDER = 'REORDER'\r\n\r\nexport {CREATE, REMOVE, REPLACE, UPDATE, SET_PROP, REMOVE_PROP, TEXT, REORDER}","import { changed, CREATE, isStr, REMOVE, REMOVE_PROP, REORDER, REPLACE, SET_PROP, TEXT, UPDATE } from \"../utils/utils\"\r\nimport Ldiff from \"./listDiff\";\r\n\r\nexport function diff(newNode, oldNode) {  //@\r\n  if (!oldNode) return { type: CREATE, newNode };\r\n\r\n  if (!newNode) return { type: REMOVE };\r\n\r\n  if ((isStr(newNode) && isStr(oldNode)) && newNode !== oldNode) return { type: TEXT, value: newNode };\r\n\r\n\r\n  if (changed(newNode, oldNode)) {\r\n    return { type: REPLACE, newNode }\r\n  }\r\n\r\n  if (newNode.type) {\r\n    return {\r\n      type: UPDATE,\r\n      props: diffProps(newNode, oldNode),\r\n      children: diffChildren(newNode, oldNode),\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction diffProps(newNode, oldNode) {\r\n  const patches = [];\r\n\r\n  const props = Object.assign({}, newNode.props, oldNode.props);\r\n\r\n  Object.keys(props).forEach(name => {\r\n\r\n    const newVal = newNode.props[name]\r\n    const oldVal = oldNode.props[name];\r\n    if (!newVal) {\r\n      patches.push({ type: REMOVE_PROP, name, value: oldVal })\r\n    } else if (!oldVal || newVal !== oldVal) {\r\n      patches.push({ type: SET_PROP, name, value: newVal })\r\n    }\r\n  })\r\n  return patches;\r\n}\r\n\r\n\r\nfunction diffChildren(newNode, oldNode) {\r\n  const patches = [];\r\n\r\n\r\n\r\n  const patchesLength = Math.max(\r\n    newNode.children.length,\r\n    oldNode.children.length\r\n  )\r\n  for (let i = 0; i < patchesLength; i++) {\r\n    patches[i] = diff(\r\n      newNode.children[i],\r\n      oldNode.children[i]\r\n    )\r\n  }\r\n  return patches\r\n}","import { CREATE, foreach, isStr, REMOVE, REMOVE_PROP, REORDER, REPLACE, SET_PROP, TEXT, UPDATE } from \"../utils/utils\"\r\n\r\nexport function patch(parent, patches, index = 0) {\r\n  if (!patches) { return }\r\n  const el = parent.childNodes[index]\r\n  switch (patches.type) {\r\n    case CREATE: {\r\n      const newEl = createElement(patches?.newNode);\r\n      return parent.appendChild(newEl);\r\n    };\r\n\r\n    case REMOVE: return parent.removeChild(el);\r\ncase REORDER: {\r\n\r\n      return reorderChildren(el, patches.moves)\r\n    }\r\n    case REPLACE: {\r\n      const newEl = createElement(patches?.newNode);\r\n      return parent.replaceChild(newEl, el)\r\n    };\r\n    \r\n    case TEXT: {console.log(el,patches)\r\n      if (el.textContent) el.textContent = patches.value\r\n      else if(el.nodeValue)el.nodeValue = patches.value\r\n      return;\r\n    };\r\n\r\n\r\n\r\n\r\n    case UPDATE: {\r\n      const { props, children } = patches;\r\n\r\n      patchProps(el, props);\r\n      for (let i = 0; i < children.length; i++) { patch(el, children[i], i) };\r\n    };\r\n  }\r\n};\r\n\r\n\r\n\r\nfunction reorderChildren(node, moves) {\r\n  var staticNodeList = [...node.childNodes]\r\n  var maps = {}\r\n\r\n  foreach(staticNodeList, function (i, node) {\r\n    if (node.nodeType === 1) {\r\n      var key = node.getAttribute('key')\r\n      if (key) {\r\n        maps[key] = node\r\n      }\r\n    }\r\n  })\r\n\r\n  foreach(moves, function (move, i) {\r\n    var index = move.index\r\n    if (move.type === 0) { // remove item\r\n      if (staticNodeList[index] === node.childNodes[index]) { // maybe have been removed for inserting\r\n        node.removeChild(node.childNodes[index])\r\n      }\r\n      staticNodeList.splice(index, 1)\r\n    } else if (move.type === 1) { // insert item\r\n      var insertNode = maps[move.item.key]\r\n        ? maps[move.item.key].cloneNode(true) // reuse old item\r\n        : (typeof move.item === 'object')\r\n          ? move.item.render()\r\n          : document.createTextNode(move.item)\r\n      staticNodeList.splice(index, 0, insertNode)\r\n      node.insertBefore(insertNode, node.childNodes[index] || null)\r\n    }\r\n  })\r\n}\r\n\r\n\r\nfunction createElement(node) {\r\n  if (isStr(node)) return document.createTextNode(node);\r\n  return node.render()\r\n};\r\n\r\n\r\nfunction patchProps(parent, patches) {\r\n  for (let i = 0; i < patches.length; i++) {\r\n    const { type, name, value } = patches[i];\r\n\r\n    if (type === SET_PROP) {\r\n      setProp(parent, name, value)\r\n    }\r\n    if (type === REMOVE_PROP) {\r\n      removeProp(parent, name, value)\r\n    }\r\n  }\r\n}\r\n\r\nfunction setProp(target, name, value) {\r\n  target.setAttribute && target.setAttribute(name, value)\r\n}\r\n\r\nfunction removeProp(target, name, value) {\r\n  target.removeAttribute(name)\r\n}","import { foreach, isObj } from \"../utils/utils\";\r\nimport { patch } from \"./patch\";\r\n\r\n\r\nexport default class Element {\r\n    constructor(tag, props, ...children) {\r\n        this.type = tag;\r\n        this.props = props || {};\r\n        this.children = children.flat();\r\n        this.el\r\n    };\r\n\r\n    render() {\r\n        this.el = document.createElement(this.type)\r\n        var props = this.props\r\n\r\n        foreach(props, (value, name) => {\r\n            if (name.startsWith(\"on\") && name.toLowerCase() in window) value && this.el.addEventListener(name.toLowerCase().substring(2), value);\r\n\r\n            else if (name === 'var') value && (this.el.var = value);\r\n\r\n            else if (name === 'sh-if') value && (this.el.sh_if = value);\r\n\r\n            else this.el.setAttribute(name, value && value.toString());\r\n        })\r\n\r\n        var children = this.children || []\r\n\r\n        foreach(children, child => {\r\n            var childEl = isObj(child) ? child.render() : document.createTextNode(child);\r\n            this.el.appendChild(childEl);\r\n        })\r\n\r\n        return this.el;\r\n    };\r\n\r\n    patch(pt, newobj) {\r\n        if (this.el) {\r\n            console.log(pt)\r\n            patch(this.el.parentNode, pt)\r\n\r\n            Object.assign(this, newobj)\r\n        }\r\n    }\r\n}\r\n\r\n","\nimport { diff } from \"./diff.js\";\nimport Element from \"./element.js\";\n\nexport default function d(tag, props, ...children) {\n\n    if (typeof tag === 'function') {\n        const component = new tag(props, children);\n\n        if (typeof component.view === 'function') {\n            const element = component.view();\n\n            component.state = (n) => {\n                const newobj = component.view()\n                const patches = diff(newobj, element)\n                console.log(patches)\n               element.patch(patches, newobj)\n            }\n\n            return element;\n        };\n\n        return component;\n    };\n\n    return new Element(tag, props, ...children);\n}\n\n","import d from \"../engine/createElement.js\";\nimport pb from \"../engine/pubsub.js\";\nimport Routes from \"./routes.js\";\n\nlet routeStack = [];\nlet currentRoute = {};\nlet rootElement = document.querySelector('#root');\nlet linkSelector = '[link]';\nlet defaultPath = '/';\nlet notFoundPath = '';\n\nexport default function app() {\n    return {\n        run: () => { run() },\n        routes: function (routes = []) { addRoutes(routes); return this; },\n        anchorSelectors: function (selector) { addPreventLink(selector); return this; },\n        root: function (element) { changeRoot(element); return this; },\n        navigate: function (url) { navigate(url); return this; }\n    };\n};\n\nexport { navigate, isCurrent };\n\nfunction run() {\n    window.addEventListener('popstate', () => router());\n\n    document.querySelector('body').addEventListener('click', e => {\n        if (e.target.matches(linkSelector)) {\n            e.preventDefault();\n            navigate(e.target.href);\n        }\n    });\n\n    router();\n};\n\nfunction addPreventLink(selector) { linkSelector = selector; };\n\nfunction changeRoot(element) { rootElement = element; };\n\nfunction addRoutes(routes = []) {\n    if (routes instanceof Routes) routeStack.push(...routes.stack);\n    else routeStack.push(...routes);\n};\n\nfunction routeMatch() {\n    const routeMatch = routeStack.map(route => {\n        return {\n            route: route,\n            result: location.pathname.match(pathToRegex(route.path))\n        };\n    });\n\n    let current = routeMatch.find(route => route.result != null);\n    if (!current) return navigate(notFoundPath || defaultPath);\n\n    let params = get_params(current), query = get_query(location.search);\n\n    currentRoute = { route: current.route, params, query };\n};\n\nfunction router() {\n    routeMatch();\n\n    let idx = 0;\n\n    const { route, params, query } = currentRoute;\n    const { path, middlewares, component } = route;\n    const Component = component;\n\n    const exec_middleware_row = async (data) => {\n        let prevIndex = -1\n\n        const next = async (index) => {\n            if (index === prevIndex) {\n                throw new Error('next() foi chamado mais de uma vez em uma mesma função');\n            };\n\n            prevIndex = index;\n\n            const middleware = middlewares[index];\n\n            if (middleware) await middleware(() => { idx++; return next(index + 1) }, data);\n        };\n\n        await next(idx);\n    };\n\n    if (middlewares.length > 0) exec_middleware_row({ path, params, query });\n\n    if (idx === middlewares.length) {\n        pb.clearAll();\n\n\n        const el = (<Component params={params} query={query} />)\n        rootElement.replaceChildren(el.render()); console.log(el)\n\n        pb.publish('component', {});\n    };\n};\n\nfunction navigate(url) {\n    history.pushState(null, null, url);\n    router();\n};\n\n\nfunction isCurrent(url = '') { return !!location.pathname.match(pathToRegex(url)); };\n\n\nfunction get_params(route) {\n    const values = route.result.slice(1);\n    const keys = Array.from(route.route.path.matchAll(/:(\\w+)/g)).map(result => result[1]);\n\n    return Object.fromEntries(keys.map((key, i) => { return [key, values[i]]; }));\n};\n\n\nfunction get_query(qrystr) {\n    const search = new URLSearchParams(qrystr);\n\n    return [...search.entries()].reduce((ac, el) => {\n        const [key, val] = el;\n\n        if (ac.hasOwnProperty(key)) {\n            if (Array.isArray(ac[key])) ac[key].push(val);\n            else ac[key] = [ac[key], val];\n\n        } else ac[key] = val;\n\n        return ac;\n    }, {});\n};\n\n\nfunction pathToRegex(path) { return new RegExp(\"^\" + path.replace(/\\//g, \"\\\\/\").replace(/:\\w+/g, \"(.+)\") + \"/?$\"); };\n","\nimport Component from \"./component/component.js\";\nimport pb from \"./engine/pubsub.js\";\nimport Routes from \"./router/routes.js\";\nimport App, { navigate, isCurrent } from \"./router/app.js\";\nimport MainView from \"./main_view/main_view.js\";\nimport d from \"./engine/createElement.js\";\n\nexport default d;\n\nexport { Component, pb, Routes, App, navigate, isCurrent, MainView };\n","import d from \"../core\"\r\n\r\nexport default function Input (props){\r\n    return (\r\n        <input type=\"text\" value={props?.value || '1'}></input>\r\n    )\r\n}","import Input from \"../components/input\";\r\nimport d, { Component } from \"../core\";\r\n\r\n\r\nexport default class Home extends Component {\r\n    preInit() {\r\n        this.teste = 'kkkkk'\r\n        this.eu = false\r\n        this.olocck = 'teste'\r\n        this.seq = []\r\n    }\r\n\r\n    onInit() {\r\n        /* setInterval(() => {\r\n            this.teste = `${Math.random()}`\r\n            this.state()\r\n            this.eu = !this.eu\r\n        },1000) */\r\n        this.teste = `${Math.random()}`\r\n        \r\n        this.eu = !this.eu\r\n        this.olocck = '32123'\r\n        this.seq = this.eu ? [1,2,3,4,5]: [5,4,3,2,1]\r\n    }\r\n\r\n    handle() {\r\n        this.teste = `${Math.random()}`\r\n        \r\n        this.eu = !this.eu\r\n        this.olocck = this.seq.join(', ')\r\n        this.seq = this.eu ? [1,2,3,4,5]: [5,4,3,2,1]\r\n        this.state()\r\n    }\r\n\r\n    view() {\r\n        return (\r\n            <div state={this.olocck}>\r\n                <h2>{this.teste}</h2>\r\n\r\n                <Input value={this.teste} />\r\n\r\n                {this.seq.map(el => (<h3 key={el}>{el + 'str'}</h3>))}\r\n\r\n                {this.eu ? <h2>h2 h2</h2> : 'teste de no de texto'}\r\n\r\n                <h1>{this.teste}</h1>\r\n\r\n                <button onClick={() => {\r\n                    this.handle()\r\n                }}>sdasda</button>\r\n            </div>\r\n        )\r\n    }\r\n}","import { Routes } from \"./core/index.js\";\r\nimport Home from \"./views/home.js\";\r\n\r\nconst routes = new Routes();\r\n\r\nroutes.add('/', Home);\r\n\r\nexport default routes;","import { App } from './core/index.js';\r\nimport routes from './routes.js';\r\n\r\nconst app = App();\r\n\r\napp.routes(routes).anchorSelectors('[link-to]')\r\n\r\nwindow.onload = app.run();\r\n"],"names":["Component","props","children","this","params","query","router","navigate","isCurrent","preInit","onInit","listen","subject","callback","afterExecute","justOne","sub","pb","data","subscribers","unsubscribers","args","unsubscribeAll","push","subscription","i","splice","forEach","v","Routes","stack","middleware","prefix","pathResolve","path","resolved","at","slice","foreach","obj","fn","type","Object","prototype","toString","call","replace","isStr","str","group","middlewares","Error","name","add","route","uri","length","component","pop","middles","middle","CREATE","REMOVE","REPLACE","UPDATE","SET_PROP","REMOVE_PROP","TEXT","REORDER","diff","newNode","oldNode","value","n2","n1","diffProps","diffChildren","patches","assign","keys","newVal","oldVal","patchesLength","Math","max","patch","parent","index","el","childNodes","newEl","createElement","appendChild","removeChild","reorderChildren","moves","replaceChild","console","log","textContent","nodeValue","patchProps","node","staticNodeList","maps","nodeType","key","getAttribute","move","insertNode","item","cloneNode","render","document","createTextNode","insertBefore","setProp","removeProp","target","setAttribute","removeAttribute","Element","tag","flat","startsWith","toLowerCase","window","addEventListener","substring","sh_if","child","childEl","pt","newobj","parentNode","d","view","element","state","n","routeStack","currentRoute","rootElement","querySelector","linkSelector","addRoutes","routes","routeMatch","map","result","location","pathname","match","pathToRegex","current","find","qrystr","values","Array","from","matchAll","fromEntries","search","URLSearchParams","entries","reduce","ac","val","hasOwnProperty","isArray","idx","exec_middleware_row","prevIndex","next","replaceChildren","url","history","pushState","RegExp","Input","Home","teste","eu","olocck","seq","random","join","onClick","handle","app","run","e","matches","preventDefault","href","anchorSelectors","selector","addPreventLink","root","changeRoot","onload"],"sourceRoot":""}