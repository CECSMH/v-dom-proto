{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://prodteste/./frontend/core/component/component.js","webpack://prodteste/./frontend/core/engine/pubsub.js","webpack://prodteste/./frontend/core/router/routes.js","webpack://prodteste/./frontend/core/utils/utils.js","webpack://prodteste/./frontend/core/engine/listDiff.js","webpack://prodteste/./frontend/core/engine/diff.js","webpack://prodteste/./frontend/core/engine/patch.js","webpack://prodteste/./frontend/core/engine/element.js","webpack://prodteste/./frontend/core/engine/createElement.js","webpack://prodteste/./frontend/core/router/app.js","webpack://prodteste/./frontend/core/index.js","webpack://prodteste/./frontend/components/input.js","webpack://prodteste/./frontend/views/home.js","webpack://prodteste/./frontend/routes.js","webpack://prodteste/./frontend/main.js"],"sourcesContent":["import { pb, navigate, isCurrent } from \"../index.js\";\n\n\nexport default class Component {\n    constructor(props, children) {\n        this.props = props || {};\n        this.children = children || {};\n        this.params = this.props.params || {};\n        this.query = this.props.query || {};\n\n        this.router = {navigate, isCurrent};\n\n        this.preInit();\n        typeof this.onInit === \"function\" && this.listen('component', () => this.onInit(), true, true);\n    };\n    /**\n     * @description Função chamada antes do carregamento da view\n     *\n     */\n    preInit() { return; };\n    /**\n     *\n     * @description Função chamada depois do carregamento ta view\n     */\n    /**\n     *\n     * @param {String} subject - Nome do canal a ser ouvido\n     * @param {Function} callback - Função a ser executada quando canal for desparado, pode ou não receber argumentos.\n     * @param {Boolean} justOne - Executa apenas uma vez\n     */\n    listen(subject, callback, afterExecute = false, justOne = false) {\n        let sub = pb.subscribe(subject, data => { callback(...data); afterExecute && pb.unsubscribe(sub); }, justOne);\n    };\n    /**\n     *\n     * @param {String} subject - Nome do canal a ser desparado\n     * @param  {...any} data - Parâmetros que serão passados a todos os ouvintes do canal desparado\n     */\n    dispatch(subject, ...data) { pb.publish(subject, ...data) };\n\n    view() { return; };\n};\n","\nlet subscribers = {}, unsubscribers = [];\nexport default new class PubSub {\n\n    publish(subject, ...args) {\n        args = args || [];\n        if (!subscribers[subject]) return;\n\n        for (let sub of subscribers[subject]) {\n            typeof sub === 'function' && sub(args);\n        };\n        unsubscribeAll();\n    };\n\n    subscribe(subject, callback, justOne = false) {\n\n        subscribers[subject] = subscribers[subject] || [];\n        subscribers[subject].push(callback);\n        let subscription = [subject, callback];\n        justOne && unsubscribers.push(subscription);\n        return subscription;\n    };\n\n    unsubscribe(subscription) { unsubscribers.push(subscription); };\n\n    clearSubject(subject) {\n        if (!subscribers[subject]) return;\n\n        for (let i in subscribers[subject]) {\n            subscribers[subject].splice(i, 1);\n        };\n    };\n\n    clearAll() { subscribers = {}; };\n};\n\nfunction unsubscribeAll() {\n\n    for(let subscription of unsubscribers){\n        let subject = subscription[0];\n        let callback = subscription[1];\n\n        if (!subscribers[subject]) return;\n\n        subscribers[subject].forEach((v, i) => {\n            if (v == callback) { subscribers[subject].splice(i, 1) };\n        })\n    };\n\n    unsubscribers = [];\n};\n\n","\nexport default function Routes() {\n    this.stack = [];\n    this.middleware = [];\n    this.prefix = '';\n};\n\n\nRoutes.prototype.group = function (prefix, callback) {\n\n    this.prefix = pathResolve(prefix);\n\n    if (typeof callback === 'function') callback();\n\n    this.prefix = '';\n};\n\n\nRoutes.prototype.middlewares = function (callback, ...middlewares) {\n    for (let middleware of middlewares) {\n        if (typeof middleware === 'function') this.middleware.push(middleware);\n        else throw new Error(`Grupo. Middleware(s) referenciado(s) não é(são) função!`);\n    };\n\n    if (typeof callback === 'function') callback();\n\n    this.middleware = [];\n};\n\nRoutes.prototype.name = function (name = ''){\n\n};\n\nRoutes.prototype.add = function (path = '', ...args) {\n    if (path === '' || typeof path !== 'string') return;\n\n    let route = {}, uri = '';\n\n    if (this.prefix !== '') uri += this.prefix;\n\n    route.path = this.prefix && path === '/' ? uri : uri + pathResolve(path);\n\n    route.middlewares = this.middleware.length > 0 ? this.middleware : [];\n\n    if (args.length === 1) {\n\n        if (typeof args[0] === 'function') route.component = args[0]\n        else throw new Error(`Rota \"${path}\": Componente referenciado não é função!`);\n\n    } else {\n        let component = args.pop();\n        let middles = args;\n\n        if (!typeof component === 'function') throw new Error(`Rota \"${path}\": Componente referenciado não é função!`);\n\n        for (var middle of middles) {\n            if (!typeof middle === 'function') throw new Error(`Rota \"${path}\": Middleware(s) referenciado(s) não é(são) função!`);\n        };\n\n        route.component = component;\n        route.middlewares.push(...middles);\n    }\n\n    if (route.component) this.stack.push(route);\n};\n\n\nfunction pathResolve(path) {\n    let resolved = '';\n    if (path !== '/') {\n        resolved = path[0] === '/' ? path : '/' + path;\n        resolved.at(-1) === '/' && (resolved = resolved.slice(0, -1));\n    } else resolved = '/';\n\n    return resolved;\n};\n\n","\r\nexport function foreach(obj, fn) {\r\n  for (var i in obj) { typeof fn === 'function' && fn(obj[i], i) };\r\n  return;\r\n};\r\n\r\nfunction type(obj) { return Object.prototype.toString.call(obj).replace(/\\[object\\s|\\]/g, \"\"); };\r\n\r\nexport function isArr(list) { return type(list) === \"Array\"; };\r\n\r\nexport function isObj(obj) { return type(obj) === \"Object\"; };\r\n\r\nexport function isStr(str) { return type(str) === \"String\"; };\r\n\r\nexport function isNotEmptyObj(obj) { return isObject(obj) && JSON.stringify(obj) != \"{}\"; };\r\n\r\nexport function changed(n1, n2) {\r\n  return typeof n1 !== typeof n2 || //typeof n1 === 'string' && n1 !== n2 ||\r\n    n1.type !== n2.type\r\n}\r\n\r\n\r\nconst CREATE = 'CREATE'\r\nconst REMOVE = 'REMOVE'\r\nconst REPLACE = 'REPLACE'\r\nconst UPDATE = 'UPDATE'\r\nconst SET_PROP = 'SET_PROP'\r\nconst REMOVE_PROP = 'REMOVE PROP'\r\nconst TEXT = 'TEXT'\r\nconst REORDER = 'REORDER'\r\n\r\nexport {CREATE, REMOVE, REPLACE, UPDATE, SET_PROP, REMOVE_PROP, TEXT, REORDER}","import { REORDER, REPLACE } from \"../utils/utils\"\r\n\r\n/**\r\n * Diff two list in O(N).\r\n * @param {Array} oldList - Original List\r\n * @param {Array} newList - List After certain insertions, removes, or moves\r\n * @return {Object} - {moves: <Array>}\r\n *                  - moves is a list of actions that telling how to remove and insert\r\n */\r\nexport default function listdiff (oldList, newList, key) {\r\n    var oldMap = makeKeyIndexAndFree(oldList, key)\r\n    var newMap = makeKeyIndexAndFree(newList, key)\r\n    \r\n    var newFree = newMap.free\r\n  \r\n    var oldKeyIndex = oldMap.keyIndex\r\n    var newKeyIndex = newMap.keyIndex\r\n\r\n    var moves = []\r\n  \r\n    // a simulate list to manipulate\r\n    var children = []\r\n    var i = 0\r\n    var item\r\n    var itemKey\r\n    var freeIndex = 0\r\n  \r\n    // fist pass to check item in old list: if it's removed or not\r\n    while (i < oldList.length) {\r\n      item = oldList[i]\r\n      itemKey = getItemKey(item, key)\r\n      if (itemKey) {\r\n        if (!newKeyIndex.hasOwnProperty(itemKey)) {\r\n          children.push(null)\r\n        } else {\r\n          var newItemIndex = newKeyIndex[itemKey]\r\n          children.push(newList[newItemIndex])\r\n        }\r\n      } else {\r\n        var freeItem = newFree[freeIndex++]\r\n        children.push(freeItem || null)\r\n      }\r\n      i++\r\n    }\r\n  \r\n    var simulateList = children.slice(0)\r\n  \r\n    // remove items no longer exist\r\n    i = 0\r\n    while (i < simulateList.length) {\r\n      if (simulateList[i] === null) {\r\n        remove(i)\r\n        removeSimulate(i)\r\n      } else {\r\n        i++\r\n      }\r\n    }\r\n  \r\n    // i is cursor pointing to a item in new list\r\n    // j is cursor pointing to a item in simulateList\r\n    var j = i = 0\r\n    while (i < newList.length) {\r\n      item = newList[i]\r\n      itemKey = getItemKey(item, key)\r\n  \r\n      var simulateItem = simulateList[j]\r\n      var simulateItemKey = getItemKey(simulateItem, key)\r\n  \r\n      if (simulateItem) {\r\n        if (itemKey === simulateItemKey) {\r\n          j++\r\n        } else {\r\n          // new item, just inesrt it\r\n          if (!oldKeyIndex.hasOwnProperty(itemKey)) {\r\n            insert(i, item)\r\n          } else {\r\n            // if remove current simulateItem make item in right place\r\n            // then just remove it\r\n            var nextItemKey = getItemKey(simulateList[j + 1], key)\r\n            if (nextItemKey === itemKey) {\r\n              remove(i)\r\n              removeSimulate(j)\r\n              j++ // after removing, current j is right, just jump to next one\r\n            } else {\r\n              // else insert item\r\n              insert(i, item)\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        insert(i, item)\r\n      }\r\n  \r\n      i++\r\n    }\r\n  \r\n    function remove (index) {\r\n      var move = {index: index, type: REPLACE}\r\n      moves.push(move)\r\n    }\r\n  \r\n    function insert (index, item) {\r\n      var move = {index: index, item: item, type: REORDER}\r\n      moves.push(move)\r\n    }\r\n  \r\n    function removeSimulate (index) {\r\n      simulateList.splice(index, 1)\r\n    }\r\n  \r\n    return {\r\n      moves: moves,\r\n      children: children\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Convert list to key-item keyIndex object.\r\n   * @param {Array} list\r\n   * @param {String|Function} key\r\n   */\r\n  function makeKeyIndexAndFree (list, key) {\r\n    var keyIndex = {}\r\n    var free = []\r\n    for (var i = 0, len = list.length; i < len; i++) {\r\n      var item = list[i]\r\n      var itemKey = getItemKey(item, key)\r\n      if (itemKey) {\r\n        keyIndex[itemKey] = i\r\n      } else {\r\n        free.push(item)\r\n      }\r\n    }\r\n    return {\r\n      keyIndex: keyIndex,\r\n      free: free\r\n    }\r\n  }\r\n  \r\n  function getItemKey (item, key) {\r\n    if (!item || !key) return void 666\r\n    return typeof key === 'string'\r\n      ? item[key]\r\n      : key(item)\r\n  }\r\n  ","import { changed, CREATE, foreach, isStr, REMOVE, REMOVE_PROP, REPLACE, SET_PROP, TEXT, UPDATE } from \"../utils/utils\"\r\nimport listdiff from \"./listDiff\";\r\nimport Ldiff from \"./listDiff\";\r\n\r\nexport function diff(newNode, oldNode) { //@\r\n  if (!oldNode) return { type: CREATE, newNode };\r\n\r\n  if (!newNode) return { type: REMOVE };\r\n\r\n  if ((isStr(newNode) && isStr(oldNode)) && newNode !== oldNode) return { type: TEXT, value: newNode };\r\n\r\n\r\n  if (changed(newNode, oldNode)) {\r\n    return { type: REPLACE, newNode }\r\n  }\r\n\r\n  if (newNode.type) {\r\n    return {\r\n      type: UPDATE,\r\n      props: diffProps(newNode, oldNode),\r\n      children: diffChildren(newNode, oldNode),\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction diffProps(newNode, oldNode) {\r\n  const patches = [];\r\n\r\n  const props = Object.assign({}, newNode.props, oldNode.props);\r\n\r\n  Object.keys(props).forEach(name => {\r\n    const newVal = newNode.props[name]\r\n    const oldVal = oldNode.props[name];\r\n\r\n    if (!newVal) patches.push({ type: REMOVE_PROP, name, value: oldVal });\r\n\r\n    else if (!oldVal || newVal !== oldVal) patches.push({ type: SET_PROP, name, value: newVal });\r\n  })\r\n  return patches;\r\n}\r\n\r\n\r\nfunction diffChildren(newNode, oldNode) {\r\n  const patches = [];\r\n\r\n  console.log(listdiff(oldNode.children, newNode.children))\r\n\r\n  const heigher = Math.max(newNode.children.length, oldNode.children.length);\r\n\r\n  for (let i = 0; i < heigher; i++) {\r\n    patches[i] = diff(newNode.children[i], oldNode.children[i])\r\n  }\r\n  return patches\r\n}\r\n","import { CREATE, foreach, isStr, REMOVE, REMOVE_PROP, REORDER, REPLACE, SET_PROP, TEXT, UPDATE } from \"../utils/utils\"\r\n\r\nexport function patch(parent, patches, index = 0) {\r\n  if (!patches) { return }\r\n  const el = parent.childNodes[index]\r\n  switch (patches.type) {\r\n    case CREATE: {\r\n      const newEl = createElement(patches?.newNode);\r\n      return parent.appendChild(newEl);\r\n    };\r\n\r\n    case REMOVE: return parent.removeChild(el);\r\ncase REORDER: {\r\n\r\n      return reorderChildren(el, patches.moves)\r\n    }\r\n    case REPLACE: {\r\n      const newEl = createElement(patches?.newNode);\r\n      return parent.replaceChild(newEl, el)\r\n    };\r\n    \r\n    case TEXT: {\r\n      if (el.textContent) el.textContent = patches.value\r\n      else if(el.nodeValue)el.nodeValue = patches.value\r\n      return;\r\n    };\r\n\r\n\r\n\r\n\r\n    case UPDATE: {\r\n      const { props, children } = patches;\r\n\r\n      patchProps(el, props);\r\n      for (let i = 0; i < children.length; i++) { patch(el, children[i], i) };\r\n    };\r\n  }\r\n};\r\n\r\n\r\n\r\nfunction reorderChildren(node, moves) {\r\n  var staticNodeList = [...node.childNodes]\r\n  var maps = {}\r\n\r\n  foreach(staticNodeList, function (i, node) {\r\n    if (node.nodeType === 1) {\r\n      var key = node.getAttribute('key')\r\n      if (key) {\r\n        maps[key] = node\r\n      }\r\n    }\r\n  })\r\n\r\n  foreach(moves, function (move, i) {\r\n    var index = move.index\r\n    if (move.type === 0) { // remove item\r\n      if (staticNodeList[index] === node.childNodes[index]) { // maybe have been removed for inserting\r\n        node.removeChild(node.childNodes[index])\r\n      }\r\n      staticNodeList.splice(index, 1)\r\n    } else if (move.type === 1) { // insert item\r\n      var insertNode = maps[move.item.key]\r\n        ? maps[move.item.key].cloneNode(true) // reuse old item\r\n        : (typeof move.item === 'object')\r\n          ? move.item.render()\r\n          : document.createTextNode(move.item)\r\n      staticNodeList.splice(index, 0, insertNode)\r\n      node.insertBefore(insertNode, node.childNodes[index] || null)\r\n    }\r\n  })\r\n}\r\n\r\n\r\nfunction createElement(node) {\r\n  if (isStr(node)) return document.createTextNode(node);\r\n  return node.render()\r\n};\r\n\r\n\r\nfunction patchProps(parent, patches) {\r\n  for (let i = 0; i < patches.length; i++) {\r\n    const { type, name, value } = patches[i];\r\n\r\n    if (type === SET_PROP) {\r\n      setProp(parent, name, value)\r\n    }\r\n    if (type === REMOVE_PROP) {\r\n      removeProp(parent, name, value)\r\n    }\r\n  }\r\n}\r\n\r\nfunction setProp(target, name, value) {\r\n  target.setAttribute && target.setAttribute(name, value)\r\n}\r\n\r\nfunction removeProp(target, name, value) {\r\n  target.removeAttribute(name)\r\n}\r\n","import { foreach, isObj } from \"../utils/utils\";\r\nimport { patch } from \"./patch\";\r\n\r\n\r\nexport default class Element {\r\n    constructor(tag, props, ...children) {\r\n        this.type = tag;\r\n        this.props = props || {};\r\n        this.children = children.flat();\r\n        this.element\r\n    };\r\n\r\n    render() {\r\n        this.element = document.createElement(this.type)\r\n        var props = this.props\r\n\r\n        foreach(props, (value, name) => {\r\n            if (name.startsWith(\"on\") && name.toLowerCase() in window) value && this.element.addEventListener(name.toLowerCase().substring(2), value);\r\n\r\n            else if (name === 'var') value && (this.el.var = value);\r\n\r\n            else if (name === 'sh-if') value && (this.el.sh_if = value);\r\n\r\n            else this.element.setAttribute(name, value && value.toString());\r\n        })\r\n\r\n        var children = this.children || []\r\n\r\n        foreach(children, child => {\r\n            var childEl = isObj(child) ? child.render() : document.createTextNode(child);\r\n            this.element.appendChild(childEl);\r\n        })\r\n\r\n        return this.element;\r\n    };\r\n\r\n    patch(pt, newobj) {\r\n        if (this.element) {\r\n            console.log(pt)\r\n            patch(this.element.parentNode, pt)\r\n\r\n            Object.assign(this, newobj)\r\n        }\r\n    }\r\n}\r\n\r\n","\nimport { diff } from \"./diff.js\";\nimport Element from \"./element.js\";\nimport listdiff from \"./listDiff.js\";\n\nexport default function d(tag, props, ...children) {\n\n    if (typeof tag === 'function') {\n        const component = new tag(props, children);\n\n        if (typeof component.view === 'function') {\n            const element = component.view();\n\n            component.state = (n) => {\n                const newobj = component.view()\n                const patches = diff(newobj, element)\n\n\n                element.patch(patches, newobj)\n            }\n\n            return element;\n        };\n\n        return component;\n    };\n\n    return new Element(tag, props, ...children);\n}\n\n","import d from \"../engine/createElement.js\";\nimport pb from \"../engine/pubsub.js\";\nimport Routes from \"./routes.js\";\n\nlet routeStack = [];\nlet currentRoute = {};\nlet rootElement = document.querySelector('#root');\nlet linkSelector = '[link]';\nlet defaultPath = '/';\nlet notFoundPath = '';\n\nexport default function app() {\n    return {\n        run: () => { run() },\n        routes: function (routes = []) { addRoutes(routes); return this; },\n        anchorSelectors: function (selector) { addPreventLink(selector); return this; },\n        root: function (element) { changeRoot(element); return this; },\n        navigate: function (url) { navigate(url); return this; }\n    };\n};\n\nexport { navigate, isCurrent };\n\nfunction run() {\n    window.addEventListener('popstate', () => router());\n\n    document.querySelector('body').addEventListener('click', e => {\n        if (e.target.matches(linkSelector)) {\n            e.preventDefault();\n            navigate(e.target.href);\n        }\n    });\n\n    router();\n};\n\nfunction addPreventLink(selector) { linkSelector = selector; };\n\nfunction changeRoot(element) { rootElement = element; };\n\nfunction addRoutes(routes = []) {\n    if (routes instanceof Routes) routeStack.push(...routes.stack);\n    else routeStack.push(...routes);\n};\n\nfunction routeMatch() {\n    const routeMatch = routeStack.map(route => {\n        return {\n            route: route,\n            result: location.pathname.match(pathToRegex(route.path))\n        };\n    });\n\n    let current = routeMatch.find(route => route.result != null);\n    if (!current) return navigate(notFoundPath || defaultPath);\n\n    let params = get_params(current), query = get_query(location.search);\n\n    currentRoute = { route: current.route, params, query };\n};\n\nfunction router() {\n    routeMatch();\n\n    let idx = 0;\n\n    const { route, params, query } = currentRoute;\n    const { path, middlewares, component } = route;\n    const Component = component;\n\n    const exec_middleware_row = async (data) => {\n        let prevIndex = -1\n\n        const next = async (index) => {\n            if (index === prevIndex) {\n                throw new Error('next() foi chamado mais de uma vez em uma mesma função');\n            };\n\n            prevIndex = index;\n\n            const middleware = middlewares[index];\n\n            if (middleware) await middleware(() => { idx++; return next(index + 1) }, data);\n        };\n\n        await next(idx);\n    };\n\n    if (middlewares.length > 0) exec_middleware_row({ path, params, query });\n\n    if (idx === middlewares.length) {\n        pb.clearAll();\n\n\n        const el = (<Component params={params} query={query} />)\n        rootElement.replaceChildren(el.render()); console.log(el)\n\n        pb.publish('component', {});\n    };\n};\n\nfunction navigate(url) {\n    history.pushState(null, null, url);\n    router();\n};\n\n\nfunction isCurrent(url = '') { return !!location.pathname.match(pathToRegex(url)); };\n\n\nfunction get_params(route) {\n    const values = route.result.slice(1);\n    const keys = Array.from(route.route.path.matchAll(/:(\\w+)/g)).map(result => result[1]);\n\n    return Object.fromEntries(keys.map((key, i) => { return [key, values[i]]; }));\n};\n\n\nfunction get_query(qrystr) {\n    const search = new URLSearchParams(qrystr);\n\n    return [...search.entries()].reduce((ac, el) => {\n        const [key, val] = el;\n\n        if (ac.hasOwnProperty(key)) {\n            if (Array.isArray(ac[key])) ac[key].push(val);\n            else ac[key] = [ac[key], val];\n\n        } else ac[key] = val;\n\n        return ac;\n    }, {});\n};\n\n\nfunction pathToRegex(path) { return new RegExp(\"^\" + path.replace(/\\//g, \"\\\\/\").replace(/:\\w+/g, \"(.+)\") + \"/?$\"); };\n","\nimport Component from \"./component/component.js\";\nimport pb from \"./engine/pubsub.js\";\nimport Routes from \"./router/routes.js\";\nimport App, { navigate, isCurrent } from \"./router/app.js\";\nimport MainView from \"./main_view/main_view.js\";\nimport d from \"./engine/createElement.js\";\n\nexport default d;\n\nexport { Component, pb, Routes, App, navigate, isCurrent, MainView };\n","import d from \"../core\"\r\n\r\nexport default function Input (props){\r\n    return (\r\n        <input type=\"text\" value={props?.value || '1'}></input>\r\n    )\r\n}","import Input from \"../components/input\";\r\nimport d, { Component } from \"../core\";\r\n\r\n\r\nexport default class Home extends Component {\r\n    preInit() {\r\n        this.teste = 'kkkkk'\r\n        this.eu = false\r\n        this.olocck = 'teste'\r\n        this.seq = []\r\n    }\r\n\r\n    onInit() {\r\n        /* setInterval(() => {\r\n            this.teste = `${Math.random()}`\r\n            this.state()\r\n            this.eu = !this.eu\r\n        },1000) */\r\n        this.teste = `${Math.random()}`\r\n\r\n        this.eu = !this.eu\r\n        this.olocck = '32123'\r\n        this.seq = this.eu ? [1, 2, 3, 4, 5] : [5, 4, 3, 2, 1]\r\n    }\r\n\r\n    handle() {\r\n        this.teste = `${Math.random()}`\r\n\r\n        this.eu = !this.eu\r\n        this.olocck = this.seq.join(', ')\r\n        this.seq = this.eu ? [1, 2, 3, 4, 5] : [5, 4, 3, 2, 1]\r\n        this.state()\r\n    }\r\n\r\n    view() {\r\n        return (\r\n            <div state={this.olocck}>\r\n                <h2>{this.teste}</h2>\r\n\r\n                <Input value={this.teste} />\r\n                <div style=\"background: rgba(255, 0, 255, 0.2);\">\r\n                    {this.seq.map(el => (<h3 key={el + ''}>{el + 'str'}</h3>))}\r\n                </div>\r\n                {this.eu ? <h2>h2 h2</h2> : 'teste de no de texto'}\r\n\r\n                <h1>{this.teste}</h1>\r\n\r\n                <button onClick={() => {\r\n                    this.handle()\r\n                }}>sdasda</button>\r\n            </div>\r\n        )\r\n    }\r\n}","import { Routes } from \"./core/index.js\";\r\nimport Home from \"./views/home.js\";\r\n\r\nconst routes = new Routes();\r\n\r\nroutes.add('/', Home);\r\n\r\nexport default routes;","import { App } from './core/index.js';\r\nimport routes from './routes.js';\r\n\r\nconst app = App();\r\n\r\napp.routes(routes).anchorSelectors('[link-to]')\r\n\r\nwindow.onload = app.run();\r\n"],"names":["Component","props","children","this","params","query","router","navigate","isCurrent","preInit","onInit","listen","subject","callback","afterExecute","justOne","sub","pb","data","subscribers","unsubscribers","args","unsubscribeAll","push","subscription","i","splice","forEach","v","Routes","stack","middleware","prefix","pathResolve","path","resolved","at","slice","foreach","obj","fn","type","Object","prototype","toString","call","replace","isStr","str","group","middlewares","Error","name","add","route","uri","length","component","pop","middles","middle","CREATE","REMOVE","REPLACE","UPDATE","SET_PROP","REMOVE_PROP","TEXT","REORDER","makeKeyIndexAndFree","list","key","keyIndex","free","len","item","itemKey","getItemKey","diff","newNode","oldNode","value","n2","n1","diffProps","diffChildren","patches","assign","keys","newVal","oldVal","console","log","oldList","newList","oldMap","newMap","newFree","oldKeyIndex","newKeyIndex","moves","freeIndex","hasOwnProperty","newItemIndex","freeItem","simulateList","remove","removeSimulate","j","simulateItem","simulateItemKey","insert","index","move","listdiff","heigher","Math","max","patch","parent","el","childNodes","newEl","createElement","appendChild","removeChild","reorderChildren","replaceChild","textContent","nodeValue","patchProps","node","staticNodeList","maps","nodeType","getAttribute","insertNode","cloneNode","render","document","createTextNode","insertBefore","setProp","removeProp","target","setAttribute","removeAttribute","Element","tag","flat","element","startsWith","toLowerCase","window","addEventListener","substring","sh_if","child","childEl","pt","newobj","parentNode","d","view","state","n","routeStack","currentRoute","rootElement","querySelector","linkSelector","addRoutes","routes","routeMatch","map","result","location","pathname","match","pathToRegex","current","find","qrystr","values","Array","from","matchAll","fromEntries","search","URLSearchParams","entries","reduce","ac","val","isArray","idx","exec_middleware_row","prevIndex","next","replaceChildren","url","history","pushState","RegExp","Input","Home","teste","eu","olocck","seq","random","join","style","onClick","handle","app","run","e","matches","preventDefault","href","anchorSelectors","selector","addPreventLink","root","changeRoot","onload"],"sourceRoot":""}